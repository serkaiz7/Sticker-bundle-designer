:root{
  --bg:#0f1115;
  --panel:#151821;
  --muted:#8b93a7;
  --text:#e8ecf7;
  --accent:#7c5cff;
  --accent-2:#09c1b1;
  --border:#232738;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:.6rem .9rem;
  background:linear-gradient(180deg, rgba(21,24,33,.9), rgba(21,24,33,.6));
  backdrop-filter:saturate(1.1) blur(10px);
  border-bottom:1px solid var(--border);
}
.brand{display:flex; align-items:center; gap:.6rem}
.logo{
  width:28px; height:28px; border-radius:8px;
  background: radial-gradient(120% 120% at 10% 10%, var(--accent), var(--accent-2));
  display:grid; place-items:center; color:#000; font-weight:800;
  box-shadow:var(--shadow)
}
.brand-text{font-size:1.05rem; letter-spacing:.2px}
.toolbar{display:flex; align-items:center; gap:.45rem; flex-wrap:wrap}
.toolbar button, .upload-btn{
  background:#1b2030; color:var(--text); border:1px solid var(--border);
  padding:.45rem .6rem; border-radius:12px; cursor:pointer; transition:transform .12s ease, background .2s;
  box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;
}
.toolbar button:hover, .upload-btn:hover{transform:translateY(-1px); background:#21273b}
.toolbar .divider{width:1px; height:22px; background:var(--border); margin:0 .25rem}
.upload-btn{display:inline-flex; align-items:center; gap:.4rem}
.upload-btn input{display:none}
.hamburger{display:none}

/* Layout */
.main{display:flex; min-height:calc(100vh - 58px)}
.sidebar{
  width:260px; padding:1rem; border-right:1px solid var(--border);
  background:linear-gradient(180deg, rgba(21,24,33,.8), rgba(21,24,33,.65));
}
.stage-wrap{flex:1; display:flex; flex-direction:column; min-width:0}
#stage-container{
  position:relative; flex:1; margin:10px; border:1px dashed var(--border);
  background:
    linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02)),
    radial-gradient(circle at 25% 25%, rgba(255,255,255,.04), transparent 40%) repeat;
  border-radius:16px; overflow:hidden;
}

/* Status bar */
.statusbar{
  display:flex; gap:1rem; align-items:center; padding:.5rem .75rem; color:var(--muted);
  border-top:1px solid var(--border); background:#121520;
}

/* Presets & pills */
.preset-list{display:grid; grid-template-columns:repeat(2,1fr); gap:.5rem}
.preset{
  border:1px solid var(--border); background:#1b2030; color:var(--text); padding:.55rem .7rem;
  border-radius:12px; cursor:pointer; transition:transform .12s ease, background .2s;
}
.preset:hover{transform:translateY(-1px); background:#21273b}
.font-pill{
  border:1px solid var(--border); background:#161b2b; color:var(--text);
  padding:.4rem .6rem; border-radius:999px; cursor:pointer; margin-right:.4rem; margin-bottom:.4rem;
}
.hint{color:var(--muted); font-size:.9rem}

/* Floating text toolbar */
.floating-toolbar{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:24px; display:flex; gap:.4rem; align-items:center;
  background:#121624; border:1px solid var(--border); padding:.5rem .6rem; border-radius:14px;
  box-shadow:var(--shadow)
}
.floating-toolbar select, .floating-toolbar input[type="number"], .floating-toolbar input[type="color"]{
  background:#0f1320; color:var(--text); border:1px solid var(--border); border-radius:10px; padding:.35rem .5rem
}
.floating-toolbar button{
  background:#1b2030; color:var(--text); border:1px solid var(--border);
  padding:.35rem .55rem; border-radius:10px; cursor:pointer
}
.hidden{display:none}

/* Modal */
.modal{border:none; padding:0; background:transparent}
.modal::backdrop{background:rgba(0,0,0,.6); backdrop-filter:blur(2px)}
.modal .modal-content{
  background:#0f1320; border:1px solid var(--border); border-radius:16px; padding:1rem; width:min(96vw, 1060px);
  max-height:85vh; overflow:auto;
}
.modal .modal-head{display:flex; justify-content:space-between; align-items:center; margin-bottom:.6rem}
.modal img{width:100%; height:auto; border-radius:12px; border:1px solid var(--border)}

/* Responsive */
@media (max-width: 980px){
  .sidebar{display:none}
  .hamburger{display:inline-flex}
}
@media (max-width: 560px){
  .topbar{padding:.5rem .6rem}
  .toolbar{gap:.35rem}
  #stage-container{margin:6px}
  .floating-toolbar{left:12px; right:12px; transform:none}
}
